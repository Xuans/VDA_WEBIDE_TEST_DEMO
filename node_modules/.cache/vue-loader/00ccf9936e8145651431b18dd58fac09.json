{"remainingRequest":"/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lijiancheng/Agree/Vue0815/node_modules/@v2-lib/vue.spa.plugin/components/rightMenu.vue?vue&type=style&index=0&id=61c6083a&lang=less&scoped=true&","dependencies":[{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/@v2-lib/vue.spa.plugin/components/rightMenu.vue","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/less-loader/dist/cjs.js","mtime":1565848667485},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.aweb-right-menu{\n   position: fixed;\n   top: 0;\n   left: 0;\n    z-index: 1050;\n    .el-menu-vertical{\n        border:1px solid transparent;\n       border-radius: 4px;\n       z-index: 100;\n   }\n \n   .menuItem{\n     height: 32px;\n     line-height: 32px;\n     font-size: 14px;\n   }\n }\n",{"version":3,"sources":["rightMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"rightMenu.vue","sourceRoot":"node_modules/@v2-lib/vue.spa.plugin/components","sourcesContent":["<template>\r\n<div>\r\n     <transition name=\"fade-in-linear\" @after-leave=\"destroyed\">\r\n     <div v-if=\"showMenu\" class=\"aweb-right-menu\" ref=\"rightClickMenu\">\r\n        <el-menu\r\n            class=\"el-menu-vertical\"\r\n            @select=\"handleRightSelect\"\r\n            background-color=\"#545c64\"\r\n            text-color=\"#fff\"\r\n            active-text-color=\"#04bebd\"\r\n             >\r\n            <template v-for=\"(mItem,idx) in menuData\">\r\n            <el-menu-item :index=\"mItem.key\" class=\"menuItem\" :key=\"idx\">\r\n            <span slot=\"title\">{{mItem.name}}</span>\r\n                </el-menu-item>\r\n            </template>           \r\n        </el-menu>          \r\n    </div>\r\n    </transition>\r\n      <slot name=\"reference\"></slot>\r\n</div>\r\n      \r\n</template>\r\n<script>\r\nimport { on, off } from 'element-ui/src/utils/dom';\r\n\r\nexport default {\r\n   name:'rightMenu',\r\n    props:{\r\n        menuData:Array,\r\n        // show:Boolean,\r\n        eventHandler:MouseEvent\r\n\r\n    },\r\n    data(){\r\n        return {\r\n           triggerElement:null,\r\n           showMenu: false,\r\n        }\r\n    },\r\n    watch:{\r\n       eventHandler(e){\r\n          if(e){   \r\n            this.showMenu = true;    \r\n            this.$nextTick(() => {\r\n            this.$refs.rightClickMenu.style.left = e.clientX +'px';\r\n            this.$refs.rightClickMenu.style.top = e.clientY +'px';\r\n            this.triggerElement = e.target;\r\n            })    \r\n          \r\n          }\r\n          \r\n         on(document, 'click', this.handleDocumentClick);\r\n       \r\n      }\r\n    },\r\n    methods:{\r\n        handleRightSelect(key, keyPath){\r\n            \r\n          this.$emit('handleSelect',key)\r\n           this.showMenu = false;    \r\n        },\r\n        handleDocumentClick(e){\r\n             let reference = this.reference || this.$refs.reference || this.triggerElement;\r\n             const menu = this.$refs.rightClickMenu;\r\n\r\n            if (!reference && this.$slots.reference && this.$slots.reference[0]) {\r\n                    reference = this.referenceElm = this.$slots.reference[0].elm;\r\n                }\r\n       \r\n                if (!this.$el ||\r\n                    !reference ||\r\n                    this.$el.contains(e.target) ||\r\n                    reference.contains(e.target) ||\r\n                    !menu ||\r\n                    menu.contains(e.target)) return;\r\n                this.showMenu = false;\r\n        },\r\n        destroyed() {\r\n         off(document, 'click', this.handleDocumentClick);\r\n        },\r\n       createdMenu(e){\r\n\r\n           this.showMenu = true;    \r\n            this.$nextTick(() => {\r\n            this.$refs.rightClickMenu.style.left = e.clientX +'px';\r\n            this.$refs.rightClickMenu.style.top = e.clientY +'px';\r\n            })    \r\n       } \r\n    },\r\n    mounted(){\r\n\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n .aweb-right-menu{\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n     z-index: 1050;\r\n     .el-menu-vertical{\r\n         border:1px solid transparent;\r\n        border-radius: 4px;\r\n        z-index: 100;\r\n    }\r\n  \r\n    .menuItem{\r\n      height: 32px;\r\n      line-height: 32px;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n</style>\r\n"]}]}