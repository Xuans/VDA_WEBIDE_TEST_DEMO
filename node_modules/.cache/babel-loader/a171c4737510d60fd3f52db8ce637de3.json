{"remainingRequest":"/Users/lijiancheng/Agree/Vue0815/node_modules/babel-loader/lib/index.js!/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lijiancheng/Agree/Vue0815/src/views/global/userList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lijiancheng/Agree/Vue0815/src/views/global/userList.vue","mtime":1565848515399},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getUserListPage, removeUser, editUser, addUser } from \"../../api/api.js\";\nimport { mixins } from '@v2-lib/vue.spa.plugin';\nexport default {\n  mixins: [mixins],\n  data: function data() {\n    var validatePhone = function validatePhone(rule, value, callback) {\n      if (value === \"\") {\n        callback(new Error(\"请输入手机号\"));\n      } else if (!Number(value)) {\n        callback(new Error(\"请输入正确的手机号\"));\n      } else {\n        callback();\n      }\n    };\n\n    var validateEmail = function validateEmail(rule, value, callback) {\n      if (value === \"\") {\n        callback(new Error(\"请输入邮箱\"));\n      } else if (!/\\w+.com$/g.test(value)) {\n        callback(new Error(\"请输入正确的邮箱\"));\n      } else {\n        callback();\n      }\n    };\n\n    var validateUsername = function validateUsername(rule, value, callback) {\n      if (value === \"\") {\n        callback(new Error(\"请输入用户名\"));\n      } else if (!/[a-zA-Z][a-zA-Z0-9_]{5,19}$/g.test(value)) {\n        callback(new Error(\"用户名必须字母开头，是字母、数字或下划线中的任两种的组合，长度为6至20位\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      searchForm: {\n        userId: \"\",\n        username: \"\",\n        creator: \"\"\n      },\n      isLocked: true,\n      userList: [],\n      roleList: [],\n      totalUser: 0,\n      userPage: 1,\n      pageSize: 10,\n      listLoading: false,\n      isSelected: true,\n      selectedUser: {},\n      //列表选中列\n      editUserVisible: false,\n      //编辑界面是否显示\n      editLoading: false,\n      editFormRules: {\n        name: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }, {\n          validator: validateUsername,\n          trigger: \"blur\"\n        }],\n        nickname: [{\n          required: true,\n          message: \"请输入昵称\",\n          trigger: \"blur\"\n        }],\n        phone: [{\n          required: true,\n          message: \"请输入手机号\",\n          trigger: \"blur\"\n        }, {\n          validator: validatePhone,\n          trigger: \"blur\"\n        }],\n        email: [{\n          required: true,\n          message: \"请输入邮箱\",\n          trigger: \"blur\"\n        }, {\n          validator: validateEmail,\n          trigger: \"blur\"\n        }],\n        userType: [{\n          required: true,\n          message: \"请选择用户类型\",\n          trigger: \"blur\"\n        }],\n        remark: [{\n          required: true,\n          message: \"请输入备注\",\n          trigger: \"blur\"\n        }]\n      },\n      //编辑界面数据\n      editForm: {\n        name: \"\",\n        nickname: \"\",\n        phone: \"\",\n        email: \"\",\n        userType: -1,\n        remark: \"\"\n      },\n      addUserVisible: false,\n      //新增界面是否显示\n      addLoading: false,\n      addFormRules: {\n        name: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }, {\n          validator: validateUsername,\n          trigger: \"blur\"\n        }],\n        nickname: [{\n          required: true,\n          message: \"请输入昵称\",\n          trigger: \"blur\"\n        }],\n        phone: [{\n          required: true,\n          message: \"请输入手机号\",\n          trigger: \"blur\"\n        }, {\n          validator: validatePhone,\n          trigger: \"blur\"\n        }],\n        email: [{\n          required: true,\n          message: \"请输入邮箱\",\n          trigger: \"blur\"\n        }, {\n          validator: validateEmail,\n          trigger: \"blur\"\n        }],\n        userType: [{\n          required: true,\n          message: \"请选择用户类型\",\n          trigger: \"blur\"\n        }],\n        remark: [{\n          required: true,\n          message: \"请输入备注\",\n          trigger: \"blur\"\n        }]\n      },\n      //新增界面数据\n      addForm: {\n        name: \"\",\n        nickname: \"\",\n        phone: \"\",\n        email: \"\",\n        userType: \"\",\n        remark: \"\"\n      },\n      roleModalVisible: false,\n      selectedRole: [],\n      selectedPageRole: {},\n      detailModalVisible: false,\n      rolePage: 1,\n      totalRole: 0,\n      userRoles: []\n    };\n  },\n  props: {\n    params: String //父组件传过来的参数\n\n  },\n  methods: {\n    searchUsers: function searchUsers() {\n      this.userPage = 1;\n      this.getUsers();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.userPage = val;\n      this.getUsers();\n    },\n    //获取用户列表\n    getUsers: function getUsers() {\n      var _this = this;\n\n      this.listLoading = true;\n      this.$get(\"\".concat(this.$axios.server, \"/springmvc/user/listAllUsers.do\"), {\n        userId: _this.searchForm.userId,\n        username: _this.searchForm.username,\n        createUser: _this.searchForm.creator,\n        pageNum: _this.userPage,\n        pageSize: _this.pageSize\n      }).then(function (data) {\n        var userList = data && data.content && data.content.data && data.content.data.userList || [];\n\n        if (data.status) {\n          if (userList) {\n            for (var i = 0; i < userList.length; i++) {\n              userList[i].createTime = _this.formatTime(userList[i].createTime);\n            }\n\n            _this.userList = userList;\n            _this.totalUser = data.content.data.totle || 0;\n          }\n        } else {}\n      });\n      this.listLoading = false;\n    },\n    //重置\n    resetForm: function resetForm() {\n      this.searchForm.userId = '';\n      this.searchForm.username = '';\n      this.searchForm.creator = '';\n      this.userPage = 1;\n      this.getUsers();\n    },\n    //删除角色\n    delUser: function delUser() {\n      var _this2 = this;\n\n      var _this = this;\n\n      this.$confirm(\"确认删除该用户吗?\", \"删除用户\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        _this.$deleteAxios(\"\".concat(_this2.$axios.server, \"/springmvc/user/delete/\").concat(_this.selectedUser.userId), {}).then(function (data) {\n          if (data.status) {\n            _this.$notify({\n              title: \"删除用户成功\",\n              type: \"success\"\n            });\n\n            _this.getUsers();\n          }\n        }).catch(function (err) {\n          _this.$notify({\n            title: \"删除用户失败\",\n            type: \"error\"\n          });\n        });\n      });\n    },\n    getRoleList: function getRoleList() {\n      var _this = this;\n\n      this.$get(\"\".concat(this.$axios.server, \"/springmvc/role/listAllRoles\"), {\n        createUser: '',\n        roleName: '',\n        roleId: '',\n        pageNum: _this.rolePage,\n        pageSize: _this.pageSize\n      }).then(function (data) {\n        if (data.status) {\n          _this.roleList = data.content && data.content.data && data.content.data.roleList || [];\n          _this.totalRole = data.content && data.content.data && data.content.data.totle || 0;\n\n          _this.$refs.roleTable.toggleRowSelection(_this.roleList[0]);\n\n          _this.$nextTick(function () {\n            if (_this.selectedPageRole[_this.rolePage] && _this.selectedPageRole[_this.rolePage].length) {\n              _this.selectedPageRole[_this.rolePage].forEach(function (item) {\n                for (var i = 0; i < _this.roleList.length; i++) {\n                  if (_this.roleList[i].roleId === item.roleId) {\n                    _this.$refs.roleTable.toggleRowSelection(_this.roleList[i]);\n                  }\n                }\n              });\n            } else {\n              if (_this.userRoles.length && _this.totalRole) {\n                _this.userRoles.forEach(function (item) {\n                  for (var i = 0; i < _this.roleList.length; i++) {\n                    if (_this.roleList[i].roleId === item.role.roleId) {\n                      _this.$refs.roleTable.toggleRowSelection(_this.roleList[i]);\n                    }\n                  }\n                });\n              }\n            }\n          });\n        }\n      }).catch(function (err) {\n        _this.$notify({\n          title: err,\n          type: \"error\"\n        });\n      });\n    },\n    getPageRole: function getPageRole(val) {\n      this.selectedPageRole[this.rolePage] = this.selectedRole || [];\n      this.rolePage = val;\n      this.getRoleList();\n    },\n    //关联角色\n    showAssociateRoleModal: function showAssociateRoleModal() {\n      var _this = this;\n\n      this.rolePage = 1;\n      _this.selectedPageRole = {};\n      this.$get(\"\".concat(this.$axios.server, \"/springmvc/user/listUserRelevanceRoles/\").concat(this.selectedUser.userId), {}).then(function (data) {\n        if (data.status) {\n          _this.userRoles = data && data.content && data.content.userRoles || [];\n        }\n\n        _this.getRoleList();\n      }).catch(function (err) {\n        _this.$notify({\n          title: err,\n          type: \"error\"\n        });\n      });\n      _this.roleModalVisible = true;\n    },\n    changeRole: function changeRole(data) {\n      this.selectedRole = data;\n    },\n    sureAssociateRole: function sureAssociateRole() {\n      var _this = this,\n          userId = this.selectedUser.userId,\n          roleIds = [];\n\n      if (Math.ceil(this.totalRole / this.pageSize) === 1) {\n        roleIds = this.selectedRole.map(function (item) {\n          return item.roleId;\n        });\n      } else {\n        for (var key in this.selectedPageRole) {\n          if (this.selectedPageRole.hasOwnProperty(key)) {\n            roleIds = roleIds.concat(this.selectedPageRole[key]);\n          }\n        }\n\n        roleIds = roleIds.map(function (item) {\n          return item.roleId;\n        });\n      }\n\n      if (roleIds && roleIds.length) {\n        this.$putAxios(\"\".concat(this.$axios.server, \"/springmvc/user/doUserRelevanceRoles/\").concat(userId), {\n          roleIds: roleIds\n        }).then(function (data) {\n          if (data.status) {\n            _this.$notify({\n              title: '关联角色成功',\n              type: \"success\"\n            });\n\n            _this.roleModalVisible = false;\n          }\n        }).catch(function (err) {\n          _this.$notify({\n            title: err,\n            type: \"error\"\n          });\n        });\n      } else {\n        _this.$notify({\n          title: \"请选择角色\",\n          type: \"error\"\n        });\n      }\n    },\n    //解锁\n    unlock: function unlock() {\n      var _this = this;\n\n      _this.$putAxios(\"\".concat(this.$axios.server, \"/springmvc/user/doUnlockUser/\").concat(_this.selectedUser.userId), {}).then(function (data) {\n        if (data.status) {\n          _this.$notify({\n            title: \"解锁成功\",\n            type: \"success\"\n          });\n\n          _this.getUsers();\n        } else {\n          _this.$notify({\n            title: \"解锁失败\",\n            message: data.errorMsg,\n            type: \"error\"\n          });\n        }\n      }).catch(function (err) {\n        _this.$notify({\n          title: \"解锁失败\",\n          message: err,\n          type: \"error\"\n        });\n      });\n    },\n    //用户详情\n    getUserDetail: function getUserDetail() {\n      var _this = this;\n\n      this.detailModalVisible = true;\n    },\n    //显示修改弹窗\n    showEditModal: function showEditModal() {\n      this.editForm.name = this.selectedUser.username;\n      this.editForm.nickname = this.selectedUser.nickname;\n      this.editForm.phone = this.selectedUser.telephone;\n      this.editForm.email = this.selectedUser.email;\n      this.editForm.userType = Number(this.selectedUser.userType);\n      this.editForm.remark = this.selectedUser.remark;\n      this.editUserVisible = true;\n    },\n    //编辑\n    editSubmit: function editSubmit() {\n      var _this3 = this;\n\n      this.$refs.editForm.validate(function (valid) {\n        if (valid) {\n          _this3.addLoading = true;\n          var params = {};\n          params.userId = _this3.selectedUser.userId;\n          params.nickname = _this3.editForm.nickname;\n          params.remark = _this3.editForm.remark;\n          params.userType = _this3.editForm.userType;\n          params.email = _this3.editForm.email;\n          params.telephone = _this3.editForm.phone;\n\n          _this3.$putAxios(\"\".concat(_this3.$axios.server, \"/springmvc/user/editUser\"), params).then(function (res) {\n            _this3.addLoading = false;\n\n            if (res.status) {\n              _this3.$notify({\n                title: \"修改用户成功\",\n                type: \"success\"\n              });\n\n              _this3.$refs[\"editForm\"].resetFields();\n\n              _this3.editUserVisible = false;\n\n              _this3.getUsers();\n            } else {\n              _this3.$notify({\n                title: \"修改用户失败\",\n                type: \"error\"\n              });\n            }\n          });\n        }\n      });\n    },\n    //新增\n    addSubmit: function addSubmit() {\n      var _this4 = this;\n\n      this.$refs.addForm.validate(function (valid) {\n        if (valid) {\n          _this4.addLoading = true;\n          var params = {};\n          params.username = _this4.addForm.name;\n          params.nickname = _this4.addForm.nickname;\n          params.remark = _this4.addForm.remark;\n          params.userType = _this4.addForm.userType;\n          params.email = _this4.addForm.email;\n          params.telephone = _this4.addForm.phone;\n\n          _this4.$post(\"\".concat(_this4.$axios.server, \"/springmvc/user/addUser\"), params).then(function (res) {\n            _this4.addLoading = false;\n\n            if (res.status) {\n              // this.$notify({\n              //   title: \"创建用户成功\",\n              //   type: \"success\"\n              // });\n              _this4.$alert('创建用户成功,用户密码为：<span style=\"font-weight:bold;font-size:14px\">' + res.content.password + '</span>', '提示', {\n                confirmButtonText: '确定',\n                dangerouslyUseHTMLString: true\n              });\n\n              _this4.$refs[\"addForm\"].resetFields();\n\n              _this4.addUserVisible = false;\n\n              _this4.getUsers();\n            } else {\n              _this4.$notify({\n                title: res.errorMsg || \"创建用户失败\",\n                type: \"error\"\n              });\n            }\n          });\n        }\n      });\n    },\n    selectUser: function selectUser(sels) {\n      var _this = this;\n\n      this.selectedUser = sels || {};\n\n      if (sels) {\n        this.isSelected = false;\n        sels.status === '正常' && (this.isLocked = true);\n        sels.status !== '正常' && (this.isLocked = false);\n      } else {\n        this.isSelected = true;\n        this.isLocked = true;\n      }\n\n      this.listLoading = true;\n      this.$get(\"\".concat(this.$axios.server, \"/springmvc/user/info/\").concat(this.selectedUser.userId), {}).then(function (data) {\n        if (data.status) {\n          _this.selectedUser = data && data.content && data.content.user || {};\n        }\n      });\n      this.listLoading = false;\n    },\n    formatTime: function formatTime(data) {\n      var date = data && new Date(data);\n\n      if (data && date) {\n        return date.getFullYear() + \"-\" + (date.getMonth() + 1 > 9 ? date.getMonth() + 1 : \"0\" + (date.getMonth() + 1)) + \"-\" + (date.getDate() > 9 ? date.getDate() : \"0\" + date.getDate()) + \" \" + (date.getHours() > 9 ? date.getHours() : \"0\" + date.getHours()) + \":\" + (date.getMinutes() > 9 ? date.getMinutes() : \"0\" + date.getMinutes()) + \":\" + (date.getSeconds() > 9 ? date.getSeconds() : \"0\" + date.getSeconds());\n      } else {\n        return '';\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.getUsers();\n    console.log(\"刷新表格页面,参数\", this.params);\n  },\n  resume: function resume() {\n    console.log(\"表格页面resume\");\n  },\n  pause: function pause() {\n    console.log(\"表格页面pause\");\n  }\n};",{"version":3,"sources":["userList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <section>\r\n    <!--工具条-->\r\n    <el-col :span=\"24\" class=\"aweb-table-toolbar\" style=\"padding-bottom: 0px;\">\r\n      <el-form :inline=\"true\" :model=\"searchForm\" size=\"mini\">\r\n        <el-form-item label=\"用户ID\">\r\n          <el-input v-model=\"searchForm.userId\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"searchForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"创建用户\">\r\n          <el-input v-model=\"searchForm.creator\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-form>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" v-on:click=\"searchUsers\" size=\"mini\">查询</el-button>\r\n          <el-button type=\"primary\" @click=\"resetForm\" size=\"mini\">重置</el-button>\r\n          <el-button type=\"primary\" v-on:click=\"addUserVisible = true\" size=\"mini\">新增</el-button>\r\n          <el-button type=\"primary\" :disabled=\"isSelected\" @click=\"showEditModal\" size=\"mini\">修改</el-button>\r\n          <el-button type=\"primary\" :disabled=\"isSelected\" v-on:click=\"delUser\" size=\"mini\">删除</el-button>\r\n          <el-button type=\"primary\" :disabled=\"isSelected\" @click=\"showAssociateRoleModal\" size=\"mini\">关联角色</el-button>\r\n          <el-button type=\"primary\" :disabled=\"isLocked\" v-on:click=\"unlock\" size=\"mini\">解锁</el-button>\r\n          <el-button type=\"primary\" :disabled=\"isSelected\" @click=\"getUserDetail\" size=\"mini\">详细信息</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n\r\n    <!--列表-->\r\n    <el-table\r\n      :data=\"userList\"\r\n      highlight-current-row\r\n      v-loading=\"listLoading\"\r\n      @current-change=\"selectUser\"\r\n      style=\"width: 100%;\"\r\n      max-height=\"500\"\r\n    >\r\n      <!-- <el-table-column type=\"selection\" width=\"55\"></el-table-column> -->\r\n      <el-table-column type=\"index\" width=\"60\"></el-table-column>\r\n      <el-table-column prop=\"userId\" label=\"用户ID\" width=\"180\" sortable></el-table-column>\r\n      <el-table-column prop=\"username\" label=\"用户名\" width=\"100\" sortable></el-table-column>\r\n      <el-table-column prop=\"nickname\" label=\"昵称\" width=\"100\" sortable></el-table-column>\r\n      <el-table-column prop=\"createUser\" label=\"创建用户\" width=\"120\" sortable></el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" min-width=\"180\" sortable></el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" min-width=\"120\" sortable></el-table-column>\r\n    </el-table>\r\n\r\n    <!--工具条-->\r\n    <el-col :span=\"24\" class=\"aweb-table-toolbar\">\r\n      <el-pagination\r\n        layout=\"prev, pager, next\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalUser\"\r\n        style=\"float:right;\"\r\n      ></el-pagination>\r\n    </el-col>\r\n\r\n    <!--新增界面-->\r\n    <el-dialog title=\"新增用户\" :visible.sync=\"addUserVisible\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"addForm\" label-width=\"80px\" :rules=\"addFormRules\" ref=\"addForm\" size=\"mini\">\r\n        <el-form-item label=\"用户名\" prop=\"name\">\r\n          <el-input v-model=\"addForm.name\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"昵称\" prop=\"nickname\">\r\n          <el-input v-model=\"addForm.nickname\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"phone\">\r\n          <el-input v-model=\"addForm.phone\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户类型\" prop=\"userType\">\r\n          <el-radio-group v-model=\"addForm.userType\">\r\n            <el-radio class=\"radio\" :label=\"0\">管理员</el-radio>\r\n            <el-radio class=\"radio\" :label=\"1\">普通用户</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"addForm.remark\" auto-complete=\"off\" type=\"textarea\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click.native=\"addSubmit\" :loading=\"addLoading\">确认</el-button>\r\n        <el-button @click.native=\"addUserVisible = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!--编辑界面-->\r\n    <el-dialog title=\"编辑用户\" :visible.sync=\"editUserVisible\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"editForm\" label-width=\"80px\" :rules=\"editFormRules\" ref=\"editForm\" size=\"mini\">\r\n        <el-form-item label=\"用户名\" prop=\"name\">\r\n          <el-input v-model=\"editForm.name\" :disabled=\"true\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"昵称\" prop=\"nickname\">\r\n          <el-input v-model=\"editForm.nickname\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"phone\">\r\n          <el-input v-model=\"editForm.phone\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户类型\" prop=\"userType\">\r\n          <el-radio-group v-model=\"editForm.userType\">\r\n            <el-radio class=\"radio\" :label=\"0\">管理员</el-radio>\r\n            <el-radio class=\"radio\" :label=\"1\">普通用户</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"editForm.remark\" auto-complete=\"off\" type=\"textarea\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click.native=\"editSubmit\" :loading=\"addLoading\">确认</el-button>\r\n        <el-button @click.native=\"editUserVisible = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n\t<!-- 关联角色 -->\r\n    <el-dialog title=\"关联角色\" :visible.sync=\"roleModalVisible\" :close-on-click-modal=\"false\">\r\n\t\t<el-table\r\n\t\t:data=\"roleList\"\r\n\t\tv-loading=\"listLoading\"\r\n\t\t@selection-change=\"changeRole\"\r\n\t\tstyle=\"width: 100%;\"\r\n\t\tmax-height=\"500\"\r\n    ref =\"roleTable\"\r\n\t\t>\r\n\t\t<el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n\t\t<el-table-column type=\"index\" width=\"60\"></el-table-column>\r\n\t\t<el-table-column prop=\"roleId\" label=\"角色ID\" sortable></el-table-column>\r\n\t\t<el-table-column prop=\"roleName\" label=\"角色名\"  sortable></el-table-column>\r\n\t\t<el-table-column prop=\"remark\" label=\"备注\" sortable></el-table-column>\r\n\t\t</el-table>\r\n    <el-col :span=\"24\" class=\"aweb-table-toolbar\">\r\n      <el-pagination\r\n        layout=\"prev, pager, next\"       \r\n        @current-change=\"getPageRole\"\r\n        :current-page = \"rolePage\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalRole\"\r\n        style=\"float:right;\"\r\n      ></el-pagination>\r\n    </el-col>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click.native=\"sureAssociateRole\" :loading=\"addLoading\">确认</el-button>\r\n        <el-button @click.native=\"roleModalVisible = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n\t<!--详细信息-->\r\n    <el-dialog title=\"详细信息\" :visible.sync=\"detailModalVisible\" :close-on-click-modal=\"false\">\r\n\t    <div class=\"basic-info-wrap\">\r\n\t\t\t<p class=\"basic-info-title\">基本信息</p>\r\n\t\t\t<div class=\"basic-info-ctn\">\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">用户ID：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.userId}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">用户名：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.username}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">昵称：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.nickname}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">手机：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.telephone}}</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">用户类型：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.userType==='0'?'管理员':'普通用户'}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">邮箱：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.email}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">备注：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.remark}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">创建用户：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.createUser}}</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">创建时间：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{formatTime(selectedUser.createTime)}}</div>\r\n\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</div>\r\n\t    </div>\r\n\r\n\t    <div class=\"basic-info-wrap\">\r\n\t\t\t<p class=\"basic-info-title\">其他信息</p>\r\n\t\t\t<div class=\"basic-info-ctn\">\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">更新时间：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{formatTime(selectedUser.updateTime)}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">最后登录成功时间：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{formatTime(selectedUser.lastLoginTime)}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">最后登录失败时间：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{formatTime(selectedUser.lastFailedLoginTime)}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">锁定开始时间：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.lockTime||''}}</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">连续登录错误次数：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.failedLoginCount}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group-item\">\r\n\t\t\t\t\t<label class=\"group-label\">用户登录IP：</label>\r\n\t\t\t\t\t<div class=\"group-text\">{{selectedUser.lastHostAddress}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</div>\r\n\t    </div>\t\t\r\n    </el-dialog>\r\n\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getUserListPage,\r\n  removeUser,\r\n  editUser,\r\n  addUser\r\n} from \"../../api/api.js\";\r\n\r\nimport  {mixins} from '@v2-lib/vue.spa.plugin';\r\nexport default {\r\n  mixins:[mixins],\r\n  data() {\r\n    var validatePhone = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入手机号\"));\r\n      } else if (!Number(value)) {\r\n        callback(new Error(\"请输入正确的手机号\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    var validateEmail = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入邮箱\"));\r\n      } else if (!/\\w+.com$/g.test(value)) {\r\n        callback(new Error(\"请输入正确的邮箱\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateUsername = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入用户名\"));\r\n      } else if (!/[a-zA-Z][a-zA-Z0-9_]{5,19}$/g.test(value)) {\r\n        callback(\r\n          new Error(\r\n            \"用户名必须字母开头，是字母、数字或下划线中的任两种的组合，长度为6至20位\"\r\n          )\r\n        );\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      searchForm: {\r\n        userId: \"\",\r\n        username: \"\",\r\n        creator: \"\"\r\n      },\r\n      isLocked:true,\r\n\t  userList: [],\r\n\t  roleList:[],\r\n      totalUser: 0,\r\n      userPage: 1,\r\n      pageSize:10,\r\n      listLoading: false,\r\n      isSelected: true,\r\n      selectedUser:{}, //列表选中列\r\n\r\n      editUserVisible: false, //编辑界面是否显示\r\n      editLoading: false,\r\n      editFormRules: {\r\n        name: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { validator: validateUsername, trigger: \"blur\" }\r\n        ],\r\n        nickname: [{ required: true, message: \"请输入昵称\", trigger: \"blur\" }],\r\n        phone: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: validatePhone, trigger: \"blur\" }\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          { validator: validateEmail, trigger: \"blur\" }\r\n        ],\r\n        userType: [\r\n          { required: true, message: \"请选择用户类型\", trigger: \"blur\" }\r\n        ],\r\n        remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }]\r\n      },\r\n      //编辑界面数据\r\n      editForm: {\r\n        name: \"\",\r\n        nickname: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        userType: -1,\r\n        remark: \"\"\r\n      },\r\n\r\n      addUserVisible: false, //新增界面是否显示\r\n      addLoading: false,\r\n      addFormRules: {\r\n        name: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { validator: validateUsername, trigger: \"blur\" }\r\n        ],\r\n        nickname: [{ required: true, message: \"请输入昵称\", trigger: \"blur\" }],\r\n        phone: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: validatePhone, trigger: \"blur\" }\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          { validator: validateEmail, trigger: \"blur\" }\r\n        ],\r\n        userType: [\r\n          { required: true, message: \"请选择用户类型\", trigger: \"blur\" }\r\n        ],\r\n        remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }]\r\n      },\r\n      //新增界面数据\r\n      addForm: {\r\n        name: \"\",\r\n        nickname: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        userType: \"\",\r\n        remark: \"\"\r\n\t  },\r\n\t  \r\n\t  roleModalVisible:false,\r\n    selectedRole:[],\r\n    selectedPageRole:{},\r\n    detailModalVisible:false,\r\n    rolePage:1,\r\n    totalRole:0,\r\n    userRoles:[]\r\n    };\r\n  },\r\n  props: {\r\n    params: String //父组件传过来的参数\r\n  },\r\n  methods: {\r\n    searchUsers:function(){\r\n      this.userPage = 1;\r\n      this.getUsers();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.userPage = val;\r\n      this.getUsers();\r\n    },\r\n    //获取用户列表\r\n    getUsers() {\r\n      var _this = this;\r\n      this.listLoading = true;\r\n      this.$get(\r\n        `${this.$axios.server}/springmvc/user/listAllUsers.do`,\r\n        {\r\n          userId:_this.searchForm.userId,\r\n          username:_this.searchForm.username,\r\n          createUser:_this.searchForm.creator,\r\n          pageNum:_this.userPage,\r\n          pageSize:_this.pageSize\r\n        }\r\n      ).then(function(data) {\r\n        var userList = (data && data.content && data.content.data&&data.content.data.userList) || [];\r\n        if (data.status) {\r\n          if (userList) {\r\n            for (let i = 0; i < userList.length; i++) {\r\n              userList[i].createTime = _this.formatTime(userList[i].createTime);\r\n            }\r\n            _this.userList = userList;\r\n            _this.totalUser = data.content.data.totle||0;\r\n          }\r\n        } else {\r\n        }\r\n      });\r\n      this.listLoading = false;\r\n    },\r\n\r\n    //重置\r\n    resetForm() {\r\n\t   this.searchForm.userId ='';\r\n\t   this.searchForm.username ='';\r\n     this.searchForm.creator='';\r\n     this.userPage = 1;\r\n     this.getUsers();\r\n    },\r\n\r\n    //删除角色\r\n    delUser: function() {\r\n      var _this = this;\r\n      this.$confirm(\"确认删除该用户吗?\", \"删除用户\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        _this.$deleteAxios(\r\n          `${this.$axios.server}/springmvc/user/delete/${_this.selectedUser.userId}`,\r\n          {}\r\n        )\r\n          .then(function(data) {\r\n            if (data.status) {\r\n              _this.$notify({\r\n                title: \"删除用户成功\",\r\n                type: \"success\"\r\n              });\r\n              _this.getUsers();\r\n            }\r\n          })\r\n          .catch(function(err) {\r\n            _this.$notify({\r\n              title: \"删除用户失败\",\r\n              type: \"error\"\r\n            });\r\n          });\r\n      });\r\n    },\r\n    getRoleList:function(){\r\n        var _this =this;\r\n\r\n        this.$get(`${this.$axios.server}/springmvc/role/listAllRoles`, {\r\n          createUser:'',\r\n          roleName:'',\r\n          roleId:'',\r\n          pageNum:_this.rolePage,\r\n          pageSize:_this.pageSize\r\n        })\r\n          .then(function(data) {\r\n            if (data.status) {\r\n\t\t\t\t      _this.roleList = data.content&&data.content.data&&data.content.data.roleList||[];\r\n              _this.totalRole = data.content&&data.content.data&&data.content.data.totle||0;\r\n              _this.$refs.roleTable.toggleRowSelection(_this.roleList[0]);\r\n              _this.$nextTick(function(){\r\n\r\n                  if(_this.selectedPageRole[_this.rolePage]&&_this.selectedPageRole[_this.rolePage].length){\r\n                    _this.selectedPageRole[_this.rolePage].forEach(item=>{\r\n                      for(let i=0;i<_this.roleList.length;i++){\r\n                        if(_this.roleList[i].roleId===item.roleId){\r\n                          _this.$refs.roleTable.toggleRowSelection(_this.roleList[i]);\r\n                        }\r\n                      }\r\n                      \r\n                    })\r\n                  }else{\r\n                    if(_this.userRoles.length&&_this.totalRole){\r\n                      _this.userRoles.forEach(item=>{\r\n                        for(let i=0;i<_this.roleList.length;i++){\r\n                          if(_this.roleList[i].roleId===item.role.roleId){\r\n                            _this.$refs.roleTable.toggleRowSelection(_this.roleList[i]);\r\n                          }\r\n                        }\r\n                        \r\n                      })\r\n                    }\r\n                  }                 \r\n   \r\n              })\r\n\r\n            }\r\n          })\r\n          .catch(function(err) {\r\n            _this.$notify({\r\n              title: err,\r\n              type: \"error\"\r\n            });\r\n          });\r\n    },\r\n    \r\n    getPageRole:function(val){\r\n      this.selectedPageRole[this.rolePage] = this.selectedRole||[];\r\n      this.rolePage = val;\r\n      this.getRoleList();\r\n    },\r\n\r\n    //关联角色\r\n    showAssociateRoleModal: function() {\r\n        var _this =this;\r\n\r\n         this.rolePage =1;\r\n        _this.selectedPageRole ={};\r\n         this.$get(`${this.$axios.server}/springmvc/user/listUserRelevanceRoles/${this.selectedUser.userId}`, \r\n         {})\r\n          .then(function(data) {\r\n            if (data.status) {\r\n              _this.userRoles = data&&data.content&&data.content.userRoles||[];\r\n            }\r\n            _this.getRoleList();\r\n          })\r\n          .catch(function(err) {\r\n            _this.$notify({\r\n              title: err,\r\n              type: \"error\"\r\n            });\r\n          });       \r\n\t\t    _this.roleModalVisible = true;\r\n\t},\r\n\r\n\tchangeRole:function(data){\r\n    this.selectedRole = data;\r\n\t},\r\n\t\r\n\tsureAssociateRole:function(){\r\n\t\tvar _this =this,\r\n\t\t\tuserId = this.selectedUser.userId,\r\n\t\t\troleIds = [];\r\n\r\n    if(Math.ceil(this.totalRole/this.pageSize)===1){\r\n      roleIds = this.selectedRole.map(function(item){\r\n        return item.roleId;\r\n      })\r\n    }else{\r\n      for(var key in this.selectedPageRole){\r\n        if(this.selectedPageRole.hasOwnProperty(key)){\r\n          roleIds = roleIds.concat(this.selectedPageRole[key]);\r\n        }      \r\n      }\r\n      roleIds = roleIds.map(function(item){\r\n        return item.roleId;\r\n      })\r\n    }\r\n\r\n    if(roleIds&&roleIds.length){\r\n      this.$putAxios(`${this.$axios.server}/springmvc/user/doUserRelevanceRoles/${userId}`, {\r\n        roleIds:roleIds\r\n      }).then(function(data) {\r\n              if (data.status) {\r\n                _this.$notify({\r\n                title: '关联角色成功',\r\n                type: \"success\"\r\n                });\r\n                _this.roleModalVisible = false;\r\n              }\r\n      }).catch(function(err) {\r\n              _this.$notify({\r\n                title: err,\r\n                type: \"error\"\r\n              });\r\n      });\r\n    }else{\r\n              _this.$notify({\r\n                title: \"请选择角色\",\r\n                type: \"error\"\r\n              });\r\n    }\r\n\t},\r\n\r\n    //解锁\r\n    unlock: function() {\r\n      var _this = this;\r\n\r\n        _this.$putAxios(\r\n          `${this.$axios.server}/springmvc/user/doUnlockUser/${_this.selectedUser.userId}`,\r\n          {}\r\n        )\r\n          .then(function(data) {\r\n            if (data.status) {\r\n              _this.$notify({\r\n                title: \"解锁成功\",\r\n                type: \"success\"\r\n              });\r\n              _this.getUsers();\r\n            }else{\r\n              _this.$notify({\r\n                title: \"解锁失败\",\r\n                message:data.errorMsg,\r\n                type: \"error\"\r\n              });             \r\n            }\r\n          })\r\n          .catch(function(err) {\r\n            _this.$notify({\r\n              title: \"解锁失败\",\r\n              message:err,\r\n              type: \"error\"\r\n            });\r\n          });      \r\n    },\r\n\r\n    //用户详情\r\n    getUserDetail: function() {\r\n\t\tvar _this = this;\r\n\t  \tthis.detailModalVisible = true;\t  \r\n    },\r\n \t\r\n\t//显示修改弹窗\r\n\tshowEditModal:function(){\r\n\t\tthis.editForm.name = this.selectedUser.username;\r\n\t\tthis.editForm.nickname = this.selectedUser.nickname;\r\n\t\tthis.editForm.phone = this.selectedUser.telephone;\r\n\t\tthis.editForm.email = this.selectedUser.email;\r\n\t\tthis.editForm.userType = Number(this.selectedUser.userType);\r\n\t\tthis.editForm.remark = this.selectedUser.remark;\r\n\t\tthis.editUserVisible = true;\r\n\t},\r\n\r\n    //编辑\r\n    editSubmit: function() {\r\n      \tthis.$refs.editForm.validate(valid => {\r\n\t\t\tif (valid) {\r\n\t\t\t\tthis.addLoading = true;\r\n\t\t\t\tlet params = {};\r\n\r\n\t\t\t\tparams.userId = this.selectedUser.userId;\r\n\t\t\t\tparams.nickname = this.editForm.nickname;\r\n\t\t\t\tparams.remark = this.editForm.remark;\r\n\t\t\t\tparams.userType = this.editForm.userType;\r\n\t\t\t\tparams.email = this.editForm.email;\r\n\t\t\t\tparams.telephone = this.editForm.phone;\r\n\t\t\t\tthis.$putAxios(\r\n\t\t\t\t\t`${this.$axios.server}/springmvc/user/editUser`,\r\n\t\t\t\t\tparams\r\n\t\t\t\t).then(res => {\r\n\t\t\t\t\tthis.addLoading = false;\r\n\t\t\t\t\tif (res.status) {\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: \"修改用户成功\",\r\n\t\t\t\t\t\t\ttype: \"success\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$refs[\"editForm\"].resetFields();\r\n\t\t\t\t\t\tthis.editUserVisible = false;\r\n\t\t\t\t\t\tthis.getUsers();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: \"修改用户失败\",\r\n\t\t\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n      \t});\r\n    },\r\n\r\n    //新增\r\n    addSubmit: function() {\r\n      this.$refs.addForm.validate(valid => {\r\n        if (valid) {\r\n          this.addLoading = true;\r\n          let params = {};\r\n\r\n          params.username = this.addForm.name;\r\n          params.nickname = this.addForm.nickname;\r\n          params.remark = this.addForm.remark;\r\n          params.userType = this.addForm.userType;\r\n          params.email = this.addForm.email;\r\n          params.telephone = this.addForm.phone;\r\n          this.$post(\r\n            `${this.$axios.server}/springmvc/user/addUser`,\r\n            params\r\n          ).then(res => {\r\n            this.addLoading = false;\r\n            if (res.status) {\r\n              // this.$notify({\r\n              //   title: \"创建用户成功\",\r\n              //   type: \"success\"\r\n              // });\r\n              this.$alert('创建用户成功,用户密码为：<span style=\"font-weight:bold;font-size:14px\">'+res.content.password+'</span>', '提示', {\r\n                confirmButtonText: '确定',\r\n                dangerouslyUseHTMLString: true\r\n              });              \r\n              this.$refs[\"addForm\"].resetFields();\r\n              this.addUserVisible = false;\r\n\t\t\t        this.getUsers();\r\n\t\t\t  \r\n            } else {\r\n              this.$notify({\r\n                title: res.errorMsg||\"创建用户失败\",\r\n                type: \"error\"\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    selectUser: function(sels) {\r\n      var _this = this;\r\n\r\n      this.selectedUser = sels||{};\r\n      if (sels) {\r\n        this.isSelected = false;\r\n        (sels.status==='正常')&&(this.isLocked=true);\r\n        (sels.status!=='正常')&&(this.isLocked=false);\r\n      } else {\r\n        this.isSelected = true;\r\n        this.isLocked=true;\r\n      }\r\n      this.listLoading = true;\r\n      this.$get(`${this.$axios.server}/springmvc/user/info/${this.selectedUser.userId}`,\r\n        {}\r\n      ).then(function(data) {\r\n        \r\n        if (data.status) {\r\n          _this.selectedUser = (data && data.content && data.content.user) || {};\r\n        }\r\n      });\r\n      this.listLoading = false;\r\n    },\r\n\r\n    formatTime: function(data) {\r\n      var date = data&&new Date(data);\r\n\r\n      if(data&&date){\r\n          return (\r\n            date.getFullYear() +\r\n            \"-\" +\r\n            (date.getMonth() + 1 > 9\r\n              ? date.getMonth() + 1\r\n              : \"0\" + (date.getMonth() + 1)) +\r\n            \"-\" +\r\n            (date.getDate() > 9 ? date.getDate() : \"0\" + date.getDate()) +\r\n            \" \" +\r\n            (date.getHours() > 9 ? date.getHours() : \"0\" + date.getHours()) +\r\n            \":\" +\r\n        (date.getMinutes() > 9 ? date.getMinutes() : \"0\" + date.getMinutes())+\r\n        \":\"+\r\n        (date.getSeconds() > 9 ? date.getSeconds() : \"0\" + date.getSeconds())\r\n          );\r\n      }else{\r\n        return '';\r\n      }\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getUsers();\r\n    console.log(\"刷新表格页面,参数\", this.params);\r\n  },\r\n  resume() {\r\n    console.log(\"表格页面resume\");\r\n  },\r\n  pause() {\r\n    console.log(\"表格页面pause\");\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.aweb-table-toolbar {\r\n  padding: 12px;\r\n  text-align: left;\r\n}\r\n.basic-info-wrap{\r\n\tborder: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-bottom: 20px;\r\n}\r\n.basic-info-title{\r\n\tbackground: #f7f7f7;\r\n    line-height: 30px;\r\n    padding: 0 20px;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n.basic-info-ctn{\r\n\tpadding:20px;\r\n}\r\n.basic-info-ctn .group-item{\r\n\tdisplay: inline-block;\r\n    margin-bottom: 12px;\r\n}\r\n.basic-info-ctn .group-label{\r\n\twidth: 150px;\r\n    text-align: right;\r\n\tdisplay: inline-block;\r\n\tmargin-left:20px;\r\n}\r\n.basic-info-ctn .group-text{\r\n\tdisplay: inline-block;\r\n\twidth: 200px;\r\n\tvertical-align: top;\r\n}\r\n</style>"],"sourceRoot":"src/views/global"}]}