{"remainingRequest":"/Users/lijiancheng/Agree/Vue0815/node_modules/babel-loader/lib/index.js!/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lijiancheng/Agree/Vue0815/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lijiancheng/Agree/Vue0815/src/views/Login.vue","mtime":1565848515392},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { requestLogin, verifyImage } from \"@/api/api\";\nimport { mixins } from '@v2-lib/vue.spa.plugin';\nexport default {\n  mixins: [mixins],\n  data: function data() {\n    return {\n      identifyCodeSrc: verifyImage,\n      logining: false,\n      ruleForm: {\n        account: \"admin123\",\n        checkPass: \"\",\n        identifyCode: \"\"\n      },\n      rules: {\n        account: [{\n          required: true,\n          message: \"请输入账号\",\n          trigger: \"blur\" //{ validator: validaePass }\n\n        }],\n        checkPass: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\" //{ validator: validaePass2 }\n\n        }],\n        identifyCode: [{\n          required: true,\n          message: \"请输入验证码\",\n          trigger: \"blur\" //{ validator: validaePass2 }\n\n        }]\n      },\n      checked: false\n    };\n  },\n  created: function created() {},\n  methods: {\n    handleReset: function handleReset() {\n      this.$refs.ruleForm.resetFields();\n    },\n    getIdentifyingCode: function getIdentifyingCode(bRefresh) {\n      if (bRefresh) {\n        this.identifyCodeSrc = \"\".concat(verifyImage, \"?\").concat(Math.random());\n      }\n    },\n    getMenu: function getMenu(list) {\n      var context = this;\n      var menus = [],\n          menuObj = {},\n          menuParent = {},\n          result = list || [];\n\n      if (result.length) {\n        result.sort(function (a, b) {\n          return parseInt(a.seq, 10) - parseInt(b.seq, 10);\n        }).map(function (i) {\n          !i.pid && (i.pid = \"\");\n          var p = menuObj[i.pid];\n\n          if (!p) {\n            p = menuObj[i.pid] = {\n              id: i.pid,\n              children: []\n            };\n          } else {\n            !p.children && (p.children = []);\n          }\n\n          var item = menuObj[i.id] || {\n            id: i.id\n          };\n          item.pid = i.pid || \"\";\n          item.name = i.id;\n          item.path = i.id;\n          item.component = i.value;\n          item.meta = {\n            title: i.name,\n            icon: i.icon\n          };\n          menuObj[i.id] = item;\n          p.children.push(item);\n        });\n        Object.keys(menuObj).filter(function (e) {\n          return !menuObj[e].children;\n        }).map(function (e) {\n          return delete menuObj[e];\n        });\n        return menuObj[\"\"].children;\n      }\n    },\n    handleSubmit: function handleSubmit(ev) {\n      var _this2 = this;\n\n      var _this = this;\n\n      this.$refs.ruleForm.validate(function (valid) {\n        if (valid) {\n          var loginParams = {\n            username: _this2.ruleForm.account,\n            password: _this2.ruleForm.checkPass,\n            checkCode: _this2.ruleForm.identifyCode\n          };\n          _this2.logining = true;\n          requestLogin(loginParams).then(function (response) {\n            _this2.logining = false;\n\n            if (response.status && response.content) {\n              window.localStorage.setItem(\"ctoken\", response.content.result || \"\");\n              sessionStorage.setItem(\"user\", JSON.stringify({\n                name: _this2.ruleForm.account,\n                avatar: \"./img/user.png\"\n              }));\n              _this.$store.state.openedTabs = [];\n\n              _this.$router.push({\n                path: \"/\"\n              });\n            } else {\n              _this.$notify({\n                title: \"登录失败\",\n                message: response.errorMsg,\n                type: \"error\"\n              });\n            }\n          }).catch(function (err) {\n            _this2.logining = false;\n\n            _this2.$notify({\n              title: \"登录失败\",\n              message: err.errorMsg,\n              type: \"error\"\n            });\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-form\n    :model=\"ruleForm\"\n    :rules=\"rules\"\n    ref=\"ruleForm\"\n    label-position=\"left\"\n    label-width=\"0px\"\n    class=\"demo-ruleForm cus-login-container\"\n  >\n    <h3 class=\"cus-title\">赞同管理系统</h3>\n    <el-form-item prop=\"account\">\n      <el-input type=\"text\" v-model=\"ruleForm.account\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\n    </el-form-item>\n    <el-form-item prop=\"checkPass\">\n      <el-input type=\"password\" v-model=\"ruleForm.checkPass\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\n    </el-form-item>\n\n    <el-form-item prop=\"identifyCode\">\n      <div class=\"cus-code-input\">\n        <el-input class=\"input\" maxlength=\"8\" placeholder=\"请输入验证码\" v-model=\"ruleForm.identifyCode\"></el-input>\n        <div class=\"cus-identifying-code\" @click=\"getIdentifyingCode(true)\">\n          <img\n            style=\"height:40px; width: 100px; cursor: pointer;\"\n            alt=\"点击更换\"\n            :src=\"identifyCodeSrc\"\n            title=\"点击更换\"\n          />\n        </div>\n      </div>\n    </el-form-item>\n\n    <el-form-item style=\"width:100%;\">\n      <el-button\n        type=\"primary\"\n        class=\"cus-submit-btn\"\n        native-type=\"submit\"\n        @click.native.prevent=\"handleSubmit\"\n        :loading=\"logining\"\n      >登录</el-button>\n    </el-form-item>\n    <!-- <el-form-item style=\"width:100%;\">\n      <el-checkbox v-model=\"checked\" class=\"cus-remember\" text-color=\"#771faa\">记住密码</el-checkbox>\n      <el-button type=\"text\" class=\"cus-forget-passWord\">忘记密码</el-button>\n    </el-form-item>-->\n  </el-form>\n</template>\n\n<script>\nimport { requestLogin,verifyImage } from \"@/api/api\";\nimport  {mixins} from '@v2-lib/vue.spa.plugin';\nexport default {\n  mixins:[mixins],\n  data() {\n    return {\n      identifyCodeSrc: verifyImage,\n      logining: false,\n      ruleForm: {\n        account: \"admin123\",\n        checkPass: \"\",\n        identifyCode: \"\"\n      },\n      rules: {\n        account: [\n          { required: true, message: \"请输入账号\", trigger: \"blur\" }\n          //{ validator: validaePass }\n        ],\n        checkPass: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" }\n          //{ validator: validaePass2 }\n        ],\n        identifyCode: [\n          { required: true, message: \"请输入验证码\", trigger: \"blur\" }\n          //{ validator: validaePass2 }\n        ]\n      },\n      checked: false\n    };\n  },\n  created() {},\n  methods: {\n    handleReset() {\n      this.$refs.ruleForm.resetFields();\n    },\n    getIdentifyingCode: function(bRefresh) {\n      if (bRefresh) {\n        this.identifyCodeSrc = `${verifyImage}?${Math.random()}`;\n      }\n    },\n\n    getMenu: function(list) {\n      var context = this;\n      let menus = [],\n        menuObj = {},\n        menuParent = {},\n        result = list || [];\n\n      if (result.length) {\n        result\n          .sort((a, b) => {\n            return parseInt(a.seq, 10) - parseInt(b.seq, 10);\n          })\n          .map(i => {\n            !i.pid && (i.pid = \"\");\n            let p = menuObj[i.pid];\n            if (!p) {\n              p = menuObj[i.pid] = {\n                id: i.pid,\n                children: []\n              };\n            } else {\n              !p.children && (p.children = []);\n            }\n            let item = menuObj[i.id] || {\n              id: i.id\n            };\n            item.pid = i.pid || \"\";\n            item.name = i.id;\n            item.path = i.id;\n            item.component = i.value;\n            item.meta = { title: i.name, icon: i.icon };\n            menuObj[i.id] = item;\n            p.children.push(item);\n          });\n\n        Object.keys(menuObj)\n          .filter(e => !menuObj[e].children)\n          .map(e => delete menuObj[e]);\n\n        return menuObj[\"\"].children;\n      }\n    },\n\n    handleSubmit(ev) {\n      var _this = this;\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          var loginParams = {\n            username: this.ruleForm.account,\n            password: this.ruleForm.checkPass,\n            checkCode: this.ruleForm.identifyCode\n          };\n          this.logining = true;\n          requestLogin(loginParams)\n            .then(response => {\n              this.logining = false;\n              if (response.status && response.content) {\n                window.localStorage.setItem(\n                  \"ctoken\",\n                  response.content.result || \"\"\n                );\n                sessionStorage.setItem(\n                  \"user\",\n                  JSON.stringify({\n                    name: this.ruleForm.account,\n                    avatar: \"./img/user.png\"\n                  })\n                );\n                _this.$store.state.openedTabs = [];\n                _this.$router.push({ path: \"/\" });\n  \n              } else {\n                _this.$notify({\n                  title: \"登录失败\",\n                  message: response.errorMsg,\n                  type: \"error\"\n                });\n              }\n            })\n            .catch(err => {\n              this.logining = false;\n              this.$notify({\n                title: \"登录失败\",\n                message: err.errorMsg,\n                type: \"error\"\n              });\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n <style lang=\"less\" >\n.cus-submit-btn {\n  width: 100%;\n}\n.cus-login-container {\n  /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  -moz-border-radius: 5px;\n  background-clip: padding-box;\n  margin: 180px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n  .cus-identifying-code {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 5;\n    width: 102px; /*设置图片显示的宽*/\n    height: 40px; /*图片显示的高*/\n    background: #e2e2e2;\n    margin: 0;\n  }\n  .cus-title {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n  }\n  .cus-remember {\n    float: left;\n  }\n\n  .cus-forget-passWord {\n    float: right;\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}