{"remainingRequest":"/Users/lijiancheng/Agree/Vue0815/node_modules/babel-loader/lib/index.js!/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lijiancheng/Agree/Vue0815/src/views/Layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lijiancheng/Agree/Vue0815/src/views/Layout.vue","mtime":1565848515392},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lijiancheng/Agree/Vue0815/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _toConsumableArray from \"/Users/lijiancheng/Agree/Vue0815/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/lijiancheng/Agree/Vue0815/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getMenuRoutes, addMenuToRoutes, mixins } from '@v2-lib/vue.spa.plugin';\nimport { getRoutersList } from '@/api/api.js';\nimport { caseRouter } from '@/api/case.js';\nvar caseList = process.env.NODE_ENV === 'production' ? [] : caseRouter;\nexport default {\n  name: 'layout',\n  data: function data() {\n    return {\n      routerData: JSON.parse(JSON.stringify(getMenuRoutes())),\n      sysLogo: \"img/logo.png\",\n      sysName: \"AWEB_ADMIN\",\n      collapsed: false,\n      sysUserName: \"admin\",\n      sysUserAvatar: \"https://s.gravatar.com/avatar/f30a9191dda93b5389965ed99f57f850?s=50&d=retro\",\n      rightClickHandler: null,\n      isRouterAlive: true,\n      clickTab: false\n    };\n  },\n  beforeRouteEnter: function () {\n    var _beforeRouteEnter = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee(to, from, next) {\n      var _this2 = this;\n\n      var transformMenu, getMenu, menus, _menus, path, menuData;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              transformMenu = function transformMenu(list) {\n                var context = _this2;\n                var menus = [],\n                    menuObj = {},\n                    menuParent = {},\n                    result = list || [];\n\n                if (result.length) {\n                  result.sort(function (a, b) {\n                    return parseInt(a.seq, 10) - parseInt(b.seq, 10);\n                  }).map(function (i) {\n                    !i.pid && (i.pid = '');\n                    var p = menuObj[i.pid];\n\n                    if (!p) {\n                      p = menuObj[i.pid] = {\n                        id: i.pid,\n                        children: []\n                      };\n                    } else {\n                      !p.children && (p.children = []);\n                    }\n\n                    var item = menuObj[i.id] || {\n                      id: i.id //children:[]\n\n                    };\n                    item.pid = i.pid || \"\";\n                    item.name = i.id;\n                    item.path = i.id;\n                    item.component = i.value;\n                    item.meta = {\n                      title: i.name,\n                      icon: i.icon\n                    };\n                    menuObj[i.id] = item;\n                    p.children.push(item);\n                  });\n                  Object.keys(menuObj).filter(function (e) {\n                    return !menuObj[e].children;\n                  }).map(function (e) {\n                    return delete menuObj[e];\n                  });\n                  return menuObj[''].children;\n                }\n              };\n\n              getMenu = function getMenu() {\n                return new Promise(function (resolve, reject) {\n                  getRoutersList().then(function (res) {\n                    if (res && res.status) {\n                      var list = res && res.content && res.content.menus || [];\n                      var menu = transformMenu(list);\n                      resolve(menu);\n                    } else {\n                      reject();\n                    }\n                  });\n                });\n              };\n\n              _context.prev = 2;\n              menus = getMenuRoutes();\n\n              if (menus.length) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 7;\n              return getMenu();\n\n            case 7:\n              _menus = _context.sent;\n              path = to.redirectedFrom || to.path;\n              menuData = [].concat(_toConsumableArray(_menus), _toConsumableArray(caseList));\n              addMenuToRoutes(menuData);\n              next(path);\n              _context.next = 15;\n              break;\n\n            case 14:\n              next();\n\n            case 15:\n              _context.next = 21;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n              next();\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 17]]);\n    }));\n\n    function beforeRouteEnter(_x, _x2, _x3) {\n      return _beforeRouteEnter.apply(this, arguments);\n    }\n\n    return beforeRouteEnter;\n  }(),\n  mixins: [mixins],\n  methods: {\n    beforeClose: function beforeClose() {\n      console.log(\"333\");\n      return true;\n    },\n    handleSelectMenu: function handleSelectMenu(key, keyPath) {\n      console.log('key', key);\n      var keys = key.split('#'),\n          path = keys[0],\n          page = keys[1],\n          title = keys[2];\n      this.open({\n        path: '/' + path,\n        page: page,\n        status: true,\n        type: 'BLANK',\n        title: title || '标题',\n        keepAlive: true\n      });\n    },\n    tabRightClick: function tabRightClick(e) {\n      if (e.target.classList[0] === \"el-tabs__item\") {\n        e.stopPropagation();\n        e.preventDefault();\n        this.rightClickHandler = e; // this.rightClickTaget\n      } else {\n        return true;\n      }\n    },\n    reload: function reload() {\n      this.isRouterAlive = false;\n      this.$nextTick(function () {\n        this.isRouterAlive = true;\n      });\n    },\n    handleRightSelect: function handleRightSelect(key) {\n      // let id= this.rightClickHandler&& this.rightClickHandler.toElement.id,activeIndex;\n      // if(id){\n      //   id=id.replace('tab-','');\n      // }\n      var activeIndex = this.activeIndex;\n\n      switch (key) {\n        case 'refresh':\n          this.reload();\n          break;\n\n        case 'close':\n          var targetRoute = this.getCurrentRouteMatched(activeIndex);\n          targetRoute.instances.default.close({\n            path: activeIndex\n          });\n          break;\n\n        case 'closeLeft':\n          if (this.openedTabs && this.openedTabs.length >= 1) {\n            this.$store.commit(\"delete_left_tabs\", activeIndex);\n          }\n\n          break;\n\n        case 'closeRight':\n          if (this.openedTabs && this.openedTabs.length >= 1) {\n            this.$store.commit(\"delete_right_tabs\", activeIndex);\n          }\n\n          break;\n\n        case 'closeAll':\n          this.$store.commit(\"delete_allTabs\");\n          break;\n      }\n    },\n    logout: function logout() {\n      var _this3 = this;\n\n      var _this = this;\n\n      this.$confirm(\"确认退出吗?\", \"提示\", {}).then(function () {\n        _this3.$deleteAxios(\"\".concat(_this3.$axios.server, \"/signOut.do\"), {}).then(function (data) {\n          if (data.status) {\n            sessionStorage.removeItem(\"user\");\n\n            _this.$router.push(\"/login\"); // global.pageMap = {};\n\n          } else {\n            _this.$notify.error({\n              title: \"退出登录失败\"\n            });\n          }\n        });\n      }).catch(function () {});\n    },\n    collapse: function collapse() {\n      this.collapsed = !this.collapsed;\n    },\n    tabClick: function tabClick(tab) {\n      this.clickTab = true;\n      this.$router.push({\n        path: this.activeIndex,\n        query: this.URLQueryMap[this.activeIndex] || {}\n      });\n    },\n    tabRemove: function tabRemove(targetName) {\n      var targetRoute = this.getCurrentRouteMatched(targetName);\n      targetRoute.instances.default.close({\n        path: targetName\n      });\n    },\n    getCurrentRouteMatched: function getCurrentRouteMatched(targetName) {\n      var currentRoute = this.$router.match(targetName);\n      var matched = currentRoute.matched.filter(function (item) {\n        return item.path === currentRoute.path;\n      });\n      return matched[0];\n    },\n    cancel: function cancel() {\n      this.closeDialog();\n      this.$store.commit(\"do_cancel\");\n    },\n    confirm: function confirm() {\n      this.closeDialog();\n      this.$store.commit(\"do_confirm\");\n    },\n    closeDialog: function closeDialog() {\n      this.$store.commit(\"set_D_visible\", false);\n      this.$store.commit(\"set_active_index\", this.activeIndex);\n    },\n    openMarket: function openMarket(arg) {\n      if (arg === 'end') {\n        window.open('https://market.awebide.com/package/@aweb-initApp/springboot');\n      } else if (arg === 'endDoc') {\n        window.open('https://vue-api.awebide.com/swagger-ui.html#/');\n      } else {\n        window.open('https://www.awebide.com:7002/package/@aweb-template/vue-spa');\n      }\n    }\n  },\n  mounted: function mounted() {\n    // this.getMenu();\n    var user = sessionStorage.getItem(\"user\");\n\n    if (user) {\n      user = JSON.parse(user);\n      this.sysUserName = user.name || \"\";\n      this.sysUserAvatar = user.avatar || \"\";\n    }\n\n    this.$store.commit(\"add_tabs\", {\n      route: this.$route.path,\n      name: this.$route.meta.title\n    });\n    this.$store.commit(\"set_active_index\", this.$route.path);\n  },\n  computed: {\n    openedTabs: function openedTabs() {\n      return this.$store.state.openedTabs;\n    },\n    activeIndex: {\n      get: function get() {\n        return this.$store.state.activeIndex;\n      },\n      set: function set(val) {\n        this.$store.commit(\"set_active_index\", val);\n      }\n    },\n    subDialogVisible: {\n      get: function get() {\n        return this.$store.state.subDialogVisible;\n      },\n      set: function set(val) {\n        this.$store.commit(\"set_D_visible\", val);\n      }\n    },\n    subPageHref: {\n      get: function get() {\n        return this.$store.state.subPageHref;\n      },\n      set: function set(val) {\n        this.$store.commit(\"set_subPageHref\", val);\n      }\n    },\n    subPageParams: {\n      get: function get() {\n        return this.$store.state.subPageParams;\n      },\n      set: function set(val) {\n        this.$store.commit(\"set_subPageParams\", val);\n      }\n    },\n    subPageTitle: {\n      get: function get() {\n        return this.$store.state.subPageTitle;\n      },\n      set: function set(val) {\n        this.$store.commit(\"set_subPageTitle\", val);\n      }\n    },\n    rightMenuData: function rightMenuData() {\n      return this.$store.state.rightMenuData;\n    },\n    URLQueryMap: {\n      get: function get() {\n        return this.$store.state.URLQueryMap;\n      },\n      set: function set(val) {\n        this.$store.commit(\"set_url_map\", val);\n      }\n    },\n    subFooter: function subFooter(type) {\n      var _this4 = this;\n\n      return function (type) {\n        return _this4.$store.getters.subPageFooter(type);\n      };\n    }\n  },\n  watch: {\n    $route: function $route(to, from) {\n      var flag = false;\n\n      if (to.meta.type === 'BLANK') {\n        if (Object.keys(to.query).length) {\n          this.$store.commit(\"set_url_map\", {\n            path: to.path,\n            query: to.query\n          });\n        }\n      }\n\n      if (this.clickTab) {\n        this.$store.commit(\"set_active_index\", to.path);\n        this.clickTab = false;\n      } else {\n        if (to.meta.type === 'BLANK' || !to.meta.type) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = this.openedTabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var item = _step.value;\n\n              if (item.route === to.path) {\n                this.$store.commit(\"set_active_index\", to.path);\n                flag = true;\n                break;\n              }\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          if (!flag) {\n            this.$store.commit(\"add_tabs\", {\n              route: to.path,\n              name: to.meta.title,\n              keepAlive: to.meta.keepAlive\n            });\n            this.$store.commit(\"set_active_index\", to.path);\n          }\n        } else if (to.meta.type === 'SELF') {\n          this.$store.commit(\"add_tabs\", {\n            route: to.path,\n            name: to.meta.title,\n            keepAlive: to.meta.keepAlive\n          });\n          this.$store.commit(\"set_active_index\", to.path);\n          this.$store.commit(\"delete_tabs\", from.path);\n        }\n      }\n    },\n    subDialogVisible: {\n      immediate: true,\n      handler: function handler(newVal, oldVal) {\n        if (!newVal && oldVal) {\n          var currentRoute = this.$router.currentRoute;\n          var matched = currentRoute.matched.filter(function (item) {\n            return item.path === currentRoute.path;\n          });\n          var currentPageConfig = matched[0].components.default;\n          var currentPageIns = matched[0].instances.default;\n          currentPageConfig.resume && currentPageConfig.resume.call(currentPageIns);\n        }\n      }\n    }\n  }\n};",{"version":3,"sources":["Layout.vue"],"names":[],"mappings":"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","sourcesContent":["\t<template>\n  <el-row class=\"aweb-container\"  ref=\"layout\" name=\"layout\">\n    <el-col :span=\"24\" class=\"aweb-header\">\n      <el-col\n        :span=\"10\"\n        class=\"aweb-logo\"\n        :class=\"collapsed?'logo-collapse-width':'logo-width'\"\n      >{{collapsed?'':sysName}}</el-col>\n      <el-col :span=\"10\">\n        <div class=\"aweb-tools\" @click.prevent=\"collapse\">\n          <i class=\"el-icon-menu\"></i>\n        </div>\n      \n      </el-col>\n\n      <el-col :span=\"6\" class=\"aweb-userinfo\">\n\n        <el-tooltip  effect=\"dark\" content=\"下载后端案例\" placement=\"top\">\n            <el-button icon=\"el-icon-sold-out\" circle class=\"aweb-download-btn\" @click=\"openMarket('end')\"></el-button>\n        </el-tooltip>\n\n        <el-tooltip  effect=\"dark\" content=\"下载前端案例\" placement=\"top\">\n            <el-button icon=\"el-icon-sold-out\" circle class=\"aweb-download-btn\" @click=\"openMarket('font')\"></el-button>\n        </el-tooltip>\n\n        <el-tooltip  effect=\"dark\" content=\"后台接口文档\" placement=\"top\">\n            <el-button icon=\"el-icon-sold-out\" circle class=\"aweb-download-btn\" @click=\"openMarket('endDoc')\"></el-button>\n        </el-tooltip>\n\n\n        <el-dropdown trigger=\"hover\">\n          <span class=\"el-dropdown-link aweb-userinfo-inner\">\n            <img :src=\"sysUserAvatar\">\n            {{sysUserName}}\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item>我的消息</el-dropdown-item>\n            <el-dropdown-item>设置</el-dropdown-item>\n            <el-dropdown-item divided @click.native=\"logout\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </el-col>\n    </el-col>\n\n    <el-col :span=\"24\" class=\"aweb-body\">\n <!-- 侧边导航 -->\n      <aside :class=\"collapsed?'menu-collapsed':'menu-expanded'\">\n\n        <el-menu        \n          default-active=\"2\"\n          class=\"el-menu-vertical-demo\"\n          background-color=\"#152028\"\n          text-color=\"#fff\"\n          :collapse=\"collapsed\"\n          @select=\"handleSelectMenu\"\n        >\n\n          <template v-for=\"item in routerData\" v-if=\"!item.hidden\">\n            \n              <el-submenu  v-if=\"item.children && item.children.length && !item.isLeaf || (item.isLeaf && item.isRedirect)\" :index=\"item.path+'#'+item.componentUrl+'#'+(item.meta && item.meta.title && item.meta.title)\" :key=\"item.path\">\n                <template slot=\"title\">\n                  <i v-if=\"item.meta && item.meta.icon\" :class=\"item.meta.icon\"></i>\n                  <span v-if=\"item.meta && item.meta.title\">{{item.meta.title}}</span>\n                </template>\n\n                <template v-for=\"child in item.children\" v-if=\"!child.hidden\">\n\n                      <el-submenu  v-if=\"child.children\" :index=\"item.path+'/'+child.path+'#'+child.componentUrl+'#'+(child.meta && child.meta.title && child.meta.title)\" :key=\"item.path+'/'+child.path\">\n                              \n                                    <template slot=\"title\">\n                                      <i v-if=\"child.meta && child.meta.icon\" :class=\"child.meta.icon\"></i>\n                                      <span v-if=\"child.meta && child.meta.title\">{{child.meta.title}}</span>\n                                    </template>\n\n                                    <template v-for=\"child3 in child.children\" v-if=\"!child3.hidden\">\n\n                                            <el-submenu  v-if=\"child3.children\" :index=\"item.path+'/'+child.path+'/'+child3.path+'#'+child3.componentUrl+'#'+(child3.meta && child3.meta.title && child3.meta.title)\" :key=\"item.path+'/'+child.path+'/'+child3.path\">                              \n                                                    <template slot=\"title\">\n                                                      <i v-if=\"child3.meta && child3.meta.icon\" :class=\"child3.meta.icon\"></i>\n                                                      <span v-if=\"child3.meta && child3.meta.title\">{{child3.meta.title}}</span>\n                                                    </template>\n\n                                                    <template v-for=\"child4 in child3.children\" v-if=\"!child4.hidden\">                                         \n                                                          <el-menu-item :index=\"item.path+'/'+child.path+'/'+child3.path+'/'+child4.path+'#'+child4.componentUrl+'#'+(child4.meta && child4.meta.title && child4.meta.title)\" :key=\"item.path+'/'+child.path+'/'+child3.path+'/'+child4.path\">\n                                                            <i v-if=\"child4.meta && child4.meta.icon\" :class=\"child4.meta.icon\"></i>\n                                                            <span v-if=\"child4.meta&&child4.meta.title\">{{child4.meta.title}}</span>\n                                                          </el-menu-item>\n                                                    </template>                             \n                                              </el-submenu>\n\n\n                                          <el-menu-item v-else :index=\"item.path+'/'+child.path+'/'+child3.path+'#'+child3.componentUrl+'#'+(child3.meta && child3.meta.title && child3.meta.title)\" :key=\"item.path+'/'+child.path+'/'+child3.path\">\n                                            <i v-if=\"child3.meta && child3.meta.icon\" :class=\"child3.meta.icon\"></i>\n                                            <span v-if=\"child3.meta&&child3.meta.title\">{{child3.meta.title}}</span>\n                                          </el-menu-item>\n\n\n                                    </template>\n                              \n                      </el-submenu>\n\n\n                    <el-menu-item v-else  :index=\"item.path+'/'+child.path+'#'+child.componentUrl+'#'+(child.meta && child.meta.title && child.meta.title)\" :key=\"item.path+'/'+child.path\">\n                      <i v-if=\"child.meta && child.meta.icon\" :class=\"child.meta.icon\"></i>\n                      <span v-if=\"child.meta && child.meta.title\" :data-role=\"item.path+'/'+child.path\">{{child.meta.title}}</span>\n                    </el-menu-item>\n            \n                </template>\n              </el-submenu>\n\n             \n                <el-menu-item  v-else-if=\"item.isLeaf && !item.children[0].children\"  :index=\"item.children[0].path+'#'+item.children[0].componentUrl+'#'+(item.children[0].meta && item.children[0].meta.title && item.children[0].meta.title)\" :key=\"item.path+'/'+item.children[0].path\" >  \n                  <i v-if=\"item.children[0].meta && item.children[0].meta.icon\" :class=\"item.children[0].meta.icon\"></i>          \n                    <span v-if=\"item.children[0].meta && item.children[0].meta.title\">{{item.children[0].meta.title}}</span>\n                  </el-menu-item>\n\n                 <el-menu-item  v-else  :index=\"item.path+'#'+item.componentUrl+'#'+(item.meta && item.meta.title && item.meta.title)\" :key=\"item.path\" >  \n                  <i v-if=\"item.meta && item.meta.icon\" :class=\"item.meta.icon\"></i>          \n                    <span v-if=\"item.meta && item.meta.title\">{{item.meta.title}}</span>\n                  </el-menu-item>\n\n\n            </template>        \n        </el-menu>\n      </aside>\n <!-- 侧边导航-->\n      <section class=\"aweb-ctt\">\n        <div class=\"grid-content bg-purple-light\">\n          <div>\n  \n            <el-tabs\n              v-model=\"activeIndex\"\n              type=\"border-card\"\n              closable\n\n              v-if=\"openedTabs.length\"\n              @tab-click=\"tabClick\"\n              @tab-remove=\"tabRemove\"\n\n              @contextmenu.native=\"tabRightClick\"\n            >\n   \n              <el-tab-pane\n                :key=\"item.name\"\n                v-for=\"item in openedTabs\"\n                :label=\"item.name\"\n                :name=\"item.route\"\n                :route=\"item.route\"\n              >\n              <el-col :span=\"24\" class=\"aweb-ctt-wrap\" >\n        \n                <transition name=\"fade\" mode=\"out-in\"> \n                 \n                      <!-- <router-view  ></router-view> -->\n                     <keep-alive v-if=\"isRouterAlive\">                           \n                          <router-view  v-if=\"(activeIndex===item.route)\"></router-view>\n                      </keep-alive>\n                                            \n                      <router-view  v-else-if=\"!isRouterAlive && activeIndex===item.route\"></router-view>\n                      \n                 \n                </transition>\n              </el-col>\n          \n\t\t\t        </el-tab-pane>\n            </el-tabs>\n\n          </div>\n              <!-- 子页面容器 -->\n              <el-dialog   :title=\"subPageTitle\" :visible.sync='subDialogVisible' @close=\"closeDialog\" ref=\"_op_dialog_ctn\">\n                <transition name=\"fade\" mode=\"out-in\"  v-if=\"subDialogVisible\">                  \n                  <sub-page-ctn :page=\"subPageHref\" :params=\"subPageParams\" v-if=\"subDialogVisible\" ></sub-page-ctn> \n                </transition>        \n                <div slot='footer' class='dialog-footer'>\n                <el-button @click=\"cancel\" v-if=\"subFooter('cancel')\" >取消</el-button>\n                <el-button type='primary' v-if=\"subFooter('confirm')\" @click=\"confirm\">确定</el-button >\n                </div> \n            </el-dialog>\n             <!-- 子页面容器 -->\n        </div>\n      </section>\n    </el-col>\n      <right-menu :menuData=\"rightMenuData\"  :eventHandler=rightClickHandler  v-on:handleSelect= \"handleRightSelect\"></right-menu> \n  </el-row>\n</template>\n<script>\n\n    \nimport {getMenuRoutes,addMenuToRoutes,mixins} from '@v2-lib/vue.spa.plugin'\nimport { getRoutersList } from '@/api/api.js'\nimport {caseRouter} from '@/api/case.js'\n\nconst caseList= process.env.NODE_ENV === 'production'?[]:caseRouter;\nexport default {\n  name:'layout',\n  data() {\n    return {\n      routerData:JSON.parse(JSON.stringify(getMenuRoutes())),\n      sysLogo:\"img/logo.png\",\n      sysName: \"AWEB_ADMIN\",\n      collapsed: false,\n      sysUserName: \"admin\",\n      sysUserAvatar: \"https://s.gravatar.com/avatar/f30a9191dda93b5389965ed99f57f850?s=50&d=retro\",  \n      rightClickHandler:null,\n      isRouterAlive: true,\n      clickTab: false\n    };\n  },\n\n async beforeRouteEnter(to, from, next){\n      let transformMenu=(list)=>{\n        var context = this;\n          let menus = [],\n              menuObj = {},\n              menuParent = {},\n              result = list||[];\n\n          if(result.length){\n            result.sort((a,b)=>{\n              return parseInt(a.seq,10)-parseInt(b.seq,10);\n            }).map(i=>{\n              !i.pid&&(i.pid='');\n              let p=menuObj[i.pid];\n              if(!p){\n                p=menuObj[i.pid]={\n                  id:i.pid,\n                  children:[]\n                }\n              }else{\n                !p.children&&(p.children=[]);\n              }\n              let item=menuObj[i.id]||{\n                id:i.id,\n                //children:[]\n              };\n              item.pid=i.pid||\"\";\n              item.name = i.id;\n              item.path = i.id;\n              item.component=i.value;\n              item.meta ={title:i.name,icon:i.icon};\n              menuObj[i.id]=item;\n              p.children.push(item);\n            });\n\n            Object.keys(menuObj)\n                .filter(e=>!menuObj[e].children)\n                .map(e=>delete menuObj[e]);\n\n            return menuObj[''].children;\n          \n          }\n      };\n      let getMenu=()=>{\n        return new Promise((resolve,reject)=>{\n              getRoutersList().then(res => {\n                if(res && res.status){\n                  var list = res&&res.content&&res.content.menus||[];\n                  let menu = transformMenu(list);\n                  resolve(menu);                  \n                }else{\n                  reject()\n                }\n\n          })\n        })\n      };\n      try{\n\n        let menus=getMenuRoutes();\n        if(!menus.length){\n          let menus=await getMenu();\n          let path = to.redirectedFrom || to.path;\n          let menuData=[...menus,...caseList];\n          addMenuToRoutes(menuData);\n          next(path);\n        }else{\n          next()\n        }\n      }catch(e){\n      \n      console.log(e);\n        next();\n      }\n\n },\n  mixins:[mixins],\n\n  methods: {\n    beforeClose(){\n      console.log(\"333\")\n      return true;\n    },\n    handleSelectMenu:function(key, keyPath){\n       console.log('key',key);\n\n      let keys = key.split('#'),\n          path = keys[0],\n          page = keys[1],\n          title= keys[2];\n\n\n       this.open({\n         path:'/'+path,\n         page:page,\n         status:true,\n         type:'BLANK',\n         title:title||'标题',\n         keepAlive:true\n       })\n\n\n    },\n    tabRightClick: function(e) {\n      if (e.target.classList[0] === \"el-tabs__item\") {\n        e.stopPropagation();\n        e.preventDefault();\n        this.rightClickHandler = e;\n        // this.rightClickTaget\n\n      }else{\n        return true;\n      }\n    },\n    reload() {\n   \n          this.isRouterAlive = false;\n         \n          this.$nextTick(function () {\n              this.isRouterAlive = true\n          })\n        },\n    handleRightSelect:function(key){\n        // let id= this.rightClickHandler&& this.rightClickHandler.toElement.id,activeIndex;\n        // if(id){\n        //   id=id.replace('tab-','');\n        // }\n        let  activeIndex=this.activeIndex;\n\n       switch(key){\n         case'refresh':\n      \n         this.reload();\n            \n          break;\n         case'close':\n            let targetRoute=this.getCurrentRouteMatched(activeIndex);\n            targetRoute.instances.default.close({path:activeIndex});\n           break;  \n           case'closeLeft':\n\n            if (this.openedTabs && this.openedTabs.length >= 1) {\n\n              this.$store.commit(\"delete_left_tabs\", activeIndex);\n             \n            }\n           break;\n          case'closeRight':\n\n            if (this.openedTabs && this.openedTabs.length >= 1) {\n\n              this.$store.commit(\"delete_right_tabs\", activeIndex);\n             \n            }\n         \n           break;\n\n         case'closeAll':\n           this.$store.commit(\"delete_allTabs\");\n           break;\n\n       }\n\n    },\n    logout: function() {\n      var _this = this;\n      this.$confirm(\"确认退出吗?\", \"提示\", {\n      })\n        .then(() => {\n          this.$deleteAxios(`${this.$axios.server}/signOut.do`, {}).then(function(\n            data\n          ) {\n            if (data.status) {\n              sessionStorage.removeItem(\"user\");\n              _this.$router.push(\"/login\");\n              // global.pageMap = {};\n            } else {\n              _this.$notify.error({\n                title: \"退出登录失败\"\n              });\n            }\n          });\n        })\n        .catch(() => {});\n    },\n    collapse: function() {\n      this.collapsed = !this.collapsed;\n    },\n    tabClick(tab) {\n      this.clickTab = true;\n      this.$router.push({ path: this.activeIndex,query:this.URLQueryMap[this.activeIndex] ||{}});\n\n    },\n    tabRemove(targetName) {\n      \n       let targetRoute=this.getCurrentRouteMatched (targetName);\n      targetRoute.instances.default.close({path:targetName});\n\n     \n    },\n\n    getCurrentRouteMatched(targetName ){\n        let currentRoute= this.$router.match(targetName)\n        let matched=currentRoute.matched.filter(item=>item.path===currentRoute.path)  \n        return matched[0];\n    },\n\n  \n    cancel(){         \n           this.closeDialog();\n           this.$store.commit(\"do_cancel\");        \n    },\n    confirm(){\n          this.closeDialog(); \n          this.$store.commit(\"do_confirm\");       \n    },\n    closeDialog(){\n       this.$store.commit(\"set_D_visible\",false);    \n       this.$store.commit(\"set_active_index\", this.activeIndex);\n    },\n    openMarket(arg){\n      if(arg==='end'){\n         window.open('https://market.awebide.com/package/@aweb-initApp/springboot');\n      }else if(arg==='endDoc'){\n          window.open('https://vue-api.awebide.com/swagger-ui.html#/');\n      }else{\n        window.open('https://www.awebide.com:7002/package/@aweb-template/vue-spa');\n      }\n     \n    }\n   \n  },\n\n  \n  mounted() {\n    // this.getMenu();\n    let user = sessionStorage.getItem(\"user\");\n   \n    if (user) {\n      user = JSON.parse(user);\n      this.sysUserName = user.name || \"\";\n      this.sysUserAvatar = user.avatar || \"\";\n    }\n     this.$store.commit(\"add_tabs\", {\n        route: this.$route.path,\n        name: this.$route.meta.title\n        \n      });\n    \n    this.$store.commit(\"set_active_index\", this.$route.path);\n\n  },\n  computed: {\n    openedTabs() {\n\n      return this.$store.state.openedTabs;\n    },\n    activeIndex: {\n      get() {\n        return this.$store.state.activeIndex;\n      },\n      set(val) {\n        this.$store.commit(\"set_active_index\", val);\n      }\n    },\n     subDialogVisible: {\n        get() {\n          return this.$store.state.subDialogVisible;\n        },\n        set(val) {\n          this.$store.commit(\"set_D_visible\", val);\n        }\n     },\n     subPageHref: {\n        get() {\n          return this.$store.state.subPageHref;\n        },\n        set(val) {\n          this.$store.commit(\"set_subPageHref\", val);\n        }\n     },\n    subPageParams: {\n        get() {\n          return this.$store.state.subPageParams;\n        },\n        set(val) {\n          this.$store.commit(\"set_subPageParams\", val);\n        }\n     },\n     subPageTitle:{\n       get() {\n          return this.$store.state.subPageTitle;\n        },\n        set(val) {\n          this.$store.commit(\"set_subPageTitle\", val);\n        }\n     },\n    rightMenuData() {\n       return this.$store.state.rightMenuData;\n    },\n    URLQueryMap:{\n      get() {\n        return this.$store.state.URLQueryMap;\n      },\n      set(val) {\n        this.$store.commit(\"set_url_map\", val);\n      }\n    },\n    subFooter(type){\n       return (type)=>{\n         return  this.$store.getters.subPageFooter(type);\n       }\n    }\n  },\n  watch: {\n    $route(to, from) {\n      let flag = false;\n     \n      if(to.meta.type ==='BLANK'){\n        if(Object.keys(to.query).length){\n            this.$store.commit(\"set_url_map\",({path:to.path,query:to.query}))\n          }\n      }\n      if (this.clickTab) {\n\n        this.$store.commit(\"set_active_index\", to.path);\n        this.clickTab = false;\n\n      } else {\n      if(to.meta.type==='BLANK' || !to.meta.type){\n        for (let item of this.openedTabs) {\n                if (item.route === to.path) {\n                  this.$store.commit(\"set_active_index\", to.path);\n                  flag = true;\n                  break;\n                }\n              }\n      \n          if (!flag) {\n            this.$store.commit(\"add_tabs\", { \n              route: to.path, \n              name: to.meta.title,\n              keepAlive:to.meta.keepAlive\n\n            });\n            this.$store.commit(\"set_active_index\", to.path);\n          }\n      }else if(to.meta.type==='SELF'){\n    \n          this.$store.commit(\"add_tabs\", {\n             route: to.path,\n             name: to.meta.title,\n             keepAlive:to.meta.keepAlive\n           });\n          this.$store.commit(\"set_active_index\",to.path);\n          this.$store.commit(\"delete_tabs\", from.path);\n       \n      }\n    }\n\n     \n    },\n \n    subDialogVisible:{\n       immediate:true,\n       handler(newVal, oldVal){\n           if(!newVal && oldVal){\n             let currentRoute=this.$router.currentRoute;\n              let matched=currentRoute.matched.filter(item=>item.path===currentRoute.path)  \n              let currentPageConfig =  matched[0].components.default;\n              let currentPageIns = matched[0].instances.default;\n               currentPageConfig.resume && currentPageConfig.resume.call(currentPageIns);                \n           }\n       }\n    }\n  }\n\n};\n</script>\n\n<style  lang=\"less\">\n.aweb-container {\n  position: absolute;\n  top: 0px;\n  bottom: 0px;\n  width: 100%;\n  background-color: #f0f2f5;\n  .aweb-header {\n    line-height: 64px;\n    background: #fff;\n    height: 64px;\n    box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n    border-right: none;\n    border-bottom: 1px solid #e6e6e6;\n    list-style: none;\n    position: relative;\n    margin: 0;\n    padding-left: 0;\n    .aweb-userinfo {\n      text-align: right;\n      padding-right: 35px;\n      float: right;\n      .aweb-userinfo-inner {\n        cursor: pointer;\n        img {\n          width: 40px;\n          height: 40px;\n          border-radius: 20px;\n          margin: 10px 0px 10px 10px;\n          float: right;\n        }\n      }\n      .aweb-download-btn{\n        margin-right: 1em;\n      }\n    }\n    .aweb-logo {\n      height: 64px;\n      font-size: 22px;\n      padding-left: 20px;\n      padding-right: 20px;\n      img {\n        width: 40px;\n        float: left;\n        margin: 10px 10px 10px 18px;\n      }\n      .txt {\n        color: rgb(14, 9, 9);\n      }\n    }\n    .logo-width,\n    .logo-collapse-width {\n      background-color: #152028;\n      color: #fff;\n      box-shadow: 2px 0 6px rgba(0,21,41,.35);  \n      transition: width .28s;\n      }\n      .logo-collapse-width {\n        width: 64px;\n      }\n      .logo-width {\n      width: 230px;\n      }\n    .aweb-tools {\n      padding: 0px 23px;\n      width: 14px;\n      height: 64px;\n      line-height: 64px;\n      cursor: pointer;\n    }\n  }\n  .aweb-body {\n    position: absolute;\n    top: 64px;\n    bottom: 0px;\n    overflow: hidden;\n    aside {\n\t  width: 230px;\n\t\tbox-shadow: 2px 0 6px rgba(0,21,41,.35);\n    transition: width .28s;\n    //  position:absolute;\n    height: 100%;\n      .el-menu {\n      height: 100%;\n      border-right: 0;\n  \n      \n      }\n      a.router-link-exact-active.router-link-active{\n        text-decoration: none;\n      }\n      .el-menu-item{\n         &:hover{\n            i{\n                color: #fff;\n            }\n         }\n         &.is-active:hover{\n             color: #fff !important;\n         }\n      }\n      .el-submenu{\n           [class*=\"fa \"]{\n           \n            margin-right: 9px;\n            font-size: 18px;\n            margin-left: 4px;\n           }\n          &:hover{\n            .el-submenu__title i{\n               color: #fff;\n            } \n          }\n      }\n    }\n    .menu-collapsed {\n    \n      width: 64px;\n      transition: width .28s;\n      &+.aweb-ctt{\n        margin-left: 64px;\n        transition: margin-left .5s;\n      }\n    }\n    .menu-expanded {\n    \n      width: 230px;\n       transition: width .5s;\n       &+.aweb-ctt{\n        margin-left: 230px;\n        transition: margin-left .28s;;\n      }\n    }\n\n  }\n   .aweb-ctt {\n  \n      overflow: auto;\n      padding: 10px;\n      margin-left: 230px;\n      position: absolute;\n      left: 0;\n      right: 0;\n      top:0;\n      .breadcrumb-container {\n        .title {\n          width: 200px;\n          float: left;\n          color: #475669;\n        }\n        .breadcrumb-inner {\n          float: right;\n        }\n      }\n      .aweb-ctt-wrap {\n        background-color: #fff;\n        box-sizing: border-box;\n        padding:20px;\n      }\n      .grid-content{\n           >div>div.el-tabs>.el-tabs__content{\n              height: calc(100vh - 125px);\n              overflow: auto;\n              padding: 0;\n           }\n           .el-tabs__item:focus, \n           .el-tabs__item:focus:active,\n           .el-tabs__item:active:focus{\n                 outline: none;\n                outline-color: transparent;\n           }\n      }\n     \n    }\n    .el-menu-vertical-demo:not(.el-menu--collapse) {\n    width: 230px;\n    min-height: 400px;\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}